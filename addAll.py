from tsl_news.models import Section, Author, Article, WaitingArticle
import requests
import re
import sys
import lxml
import requests
from lxml import html
import datetime
import json


def scrape(url):
    req = requests.get(url)

    html = lxml.html.fromstring(req.text)

    # get article title
    title = html.xpath('//*[@id="aColumn"]/header/h1')[0].text_content()

    # get the section
    try:
        section = html.xpath('//*[@id="aColumn"]/header/div[2]/div[1]')[0].text_content()
    except:
        section = html.xpath('//*[@id="aColumn"]/header/div/div[1]')[0].text_content()

    # get authors
    author_list = html.xpath('//*[@id="aColumn"]/header/div[2]/a /text()')

    if not author_list:
        author_list = html.xpath('//*[@id="aColumn"]/header/div/a /text()')

    # get date
    try:
        date = html.xpath('//*[@id="aColumn"]/header/div[2]/div[2]')[0].text_content().strip()
    except:
        date = html.xpath('//*[@id="aColumn"]/header/div/div[2]')[0].text_content().strip()

    gooddate = datetime.datetime.strptime(date, '%b %d, %Y').strftime('%Y-%m-%d')

    # get article body
    article = html.xpath('//*[@id="aColumn"]//p')
    article.pop()

    # remove line breaks
    for idx, val in enumerate(article):
        if not val.text_content().isspace():
            article[idx] = val.text_content().replace('\r', '').replace('\n', ' ')
        else:
            article[idx] = ''

    article = [x for x in article if x != '']

    # condense to string
    article = '\n\n'.join(article)

    # now add this to Django
    new_article, need_to_create = Article.objects.get_or_create(headline=title)
    new_article.headline = title
    new_article.pub_date = gooddate
    get_section, need_to_create = Section.objects.get_or_create(name=section)
    new_article.section = get_section

    new_article.save()

    for one_author in author_list:
        get_author, need_to_create = Author.objects.get_or_create(name=one_author)
        new_article.authors.add(get_author)

    new_article.article_body = article
    new_article.url = url

    new_article.save()

lst = [u'http://tsl.pomona.edu/articles/2015/4/10/news/6315-pomona-faculty-passes-proposal-to-address-grade-distribution', u'http://tsl.pomona.edu/articles/2015/4/10/news/6316-spoken-word-poet-sarah-kay-to-speak-at-scripps-graduation', u'http://tsl.pomona.edu/articles/2015/4/10/news/6323-laspa-launch-day-inspires-scripps-students-with-womens-leadership', u'http://tsl.pomona.edu/articles/2015/4/10/news/6321-pomona-participates-in-emergency-drill', u'http://tsl.pomona.edu/articles/2015/4/10/news/6317-interim-campus-safety-head-chosen-as-permanent-director', u'http://tsl.pomona.edu/articles/2015/4/10/news/6319-5cs-release-admission-data-for-class-of-2019', u'http://tsl.pomona.edu/articles/2015/4/10/news/6318-presidents-approve-7c-sexual-assault-resource-center', u'http://tsl.pomona.edu/articles/2015/4/10/news/6329-pro-palestinian-demonstration-stirs-controversy', u'http://tsl.pomona.edu/articles/2015/4/5/news/6300-q-and-a-inaugural-director-of-laspa-talks-about-20-year-career-in-social-justice-and-vision-for-center', u'http://tsl.pomona.edu/articles/2015/4/5/news/6301-cmc-administration-reinforces-current-drug-policy', u'http://tsl.pomona.edu/articles/2015/3/27/news/6235-in-memoriam-betty-bernhard-beloved-professor-and-mentor', u'http://tsl.pomona.edu/articles/2015/3/27/news/6197-scripps-invites-barbara-bush-for-conservative-speaker-series', u'http://tsl.pomona.edu/articles/2015/3/27/news/6194-hmc-initiates-discussions-on-work-life-balance', u'http://tsl.pomona.edu/articles/2015/3/27/news/6200-claremont-colleges-move-fall-registration-day-earlier', u'http://tsl.pomona.edu/articles/2015/3/27/news/6241-q-and-a-barbara-bush-shares-goals-in-global-health-familial-inspirations', u'http://tsl.pomona.edu/articles/2015/3/27/news/6196-cgu-hires-new-business-minded-interim-president', u'http://tsl.pomona.edu/articles/2015/3/27/news/6240-uncovering-the-20-part-time-faculty-at-the-5cs', u'http://tsl.pomona.edu/articles/2015/3/27/news/6199-pitzer-invites-transgender-rights-activist-to-be-commencement-speaker', u'http://tsl.pomona.edu/articles/2015/3/27/news/6239-scripps-hires-20-year-nonprofit-veteran-as-inaugural-laspa-center-director', u'http://tsl.pomona.edu/articles/2015/3/13/news/6172-q-and-a-marxist-economist-encourages-students-to-question-the-norm', u'http://tsl.pomona.edu/articles/2015/3/13/news/6153-pitzer-student-senate-asks-for-more-student-voice-in-presidential-search-committee', u'http://tsl.pomona.edu/articles/2015/3/13/news/6193-cmc-government-major-senior-brings-theory-into-practice-forms-super-pac', u'http://tsl.pomona.edu/articles/2015/3/13/news/6155-search-narrows-for-campus-safety-director', u'http://tsl.pomona.edu/articles/2015/3/13/news/6156-scripps-seeks-to-conserve-water-through-lawn-removal', u'http://tsl.pomona.edu/articles/2015/3/13/news/6152-pitzer-task-force-proposes-changes-to-graduation-requirements', u'http://tsl.pomona.edu/articles/2015/3/13/news/6151-pomona-plans-new-expanded-art-museum', u'http://tsl.pomona.edu/articles/2015/3/13/news/6150-pomona-faculty-addresses-distribution-of-higher-grades-to-students-compared-to-peer-institutions', u'http://tsl.pomona.edu/articles/2015/3/13/news/6157-police-arrests-three-pomona-students-at-party', u'http://tsl.pomona.edu/articles/2015/3/6/news/6123-faculty-and-trustees-discuss-pomona-diversity', u'http://tsl.pomona.edu/articles/2015/3/6/news/6126-in-memoriam-katherine-hass', u'http://tsl.pomona.edu/articles/2015/3/6/news/6124-tixc-seeks-more-inclusive-party-culture', u'http://tsl.pomona.edu/articles/2015/3/6/news/6106-pomona-report-reveals-faculty-dissatisfaction-with-general-ed', u'http://tsl.pomona.edu/articles/2015/3/6/news/6140-debate-series-debuts-at-5cs', u'http://tsl.pomona.edu/articles/2015/3/6/news/6121-honnold-mudd-library-updates-student-programs-technology', u'http://tsl.pomona.edu/articles/2015/3/6/news/6122-ascmc-revamps-event-planning-positions-holds-elections', u'http://tsl.pomona.edu/articles/2015/2/27/news/6064-crime-rate-rises-across-5cs', u'http://tsl.pomona.edu/articles/2015/2/27/news/6066-scripps-students-to-live-in-new-hmc-dorm', u'http://tsl.pomona.edu/articles/2015/2/27/news/6065-cmc-wedding-party-shuts-down', u'http://tsl.pomona.edu/articles/2015/2/27/news/6077-pitzer-faces-minor-fire-incident', u'http://tsl.pomona.edu/articles/2015/2/27/news/6068-education-expert-gives-advice-to-future-teachers', u'http://tsl.pomona.edu/articles/2015/2/27/news/6069-divest-pomona-presents-to-board-of-trustees', u'http://tsl.pomona.edu/articles/2015/2/27/news/6067-5cs-respond-to-bias-related-incidents', u'http://tsl.pomona.edu/articles/2015/2/27/news/6071-7c-employee-donations-lean-liberal', u'http://tsl.pomona.edu/articles/2015/2/27/news/6070-colleges-make-progress-in-year-since-white-house-pledge', u'http://tsl.pomona.edu/articles/2015/2/21/news/6010-pomona-offers-tenure-to-six-professors-addresses-faculty-diversity-question', u'http://tsl.pomona.edu/articles/2015/2/21/news/6011-5cs-release-early-decision-results', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6293-wrinkles-in-time-a-reflection-on-the-pluralities-of-the-present', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6276-the-jinx-chills-and-shocks-with-real-life-murder-mystery', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6277-sanskriti-performers-combine-variety-of-styles-for-energetic-show', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6295-rockabilly-festival-fuses-socal-latino-culture-and-rock-n-roll', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6278-me-and-the-girls', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6296-native-american-tribes-celebrate-culture-at-pomonas-third-annual-powwow', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6290-say-yes-to-nochella-2015-a-lineup-rundown', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6292-cinderella-remake-doesnt-make-it-home', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6285-taking-back-trends-finding-your-style', u'http://tsl.pomona.edu/articles/2015/4/10/lifeandstyle/6297-a-mothers-story-three-immigrant-mothers-of-pomona-college-students-share-their-personal-stories', u'http://tsl.pomona.edu/articles/2015/4/5/lifeandstyle/6303-forum-shows-impact-of-economic-inequality-on-diverse-communities', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6219-author-talks-coloring-science-fiction-with-black-imaginaries', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6214-the-best-fantasies-come-as-a-surprise', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6220-mariachi-octet-blends-traditional-hip-hop', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6217-artist-links-plants-immigration-in-exhibition', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6213-amphetamines-in-america-a-love-story', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6221-white-house-veteran-discusses-environmental-work', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6218-solace-in-solitude-on-danish-trains-finding-rhythm-in-the-commute', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6216-jadore-dior-reconnecting-with-the-art-of-elegance', u'http://tsl.pomona.edu/articles/2015/3/27/lifeandstyle/6210-the-hundred-foot-journey-a-few-steps-too-long', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6162-in-the-next-room-vibes-well-on-stage', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6167-fifth-tedx-talks-and-ldquo-open-to-interpretation-and-rdquo', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6161-student-website-puts-arts-in-the-spotlite', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6170-finding-female-porn-a-search-for-sensuality', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6160-dealing-with-anxiety-in-college-dont-sweat-the-small-stuff-or-the-big-stuff', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6164-jazz-ensemble-showcases-individual-collective-talent-in-lyman-music-hall', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6169-dining-in-morocco-a-dictionary', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6159-the-duff-exceeds-low-expectations', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6166-cherokee-nation-chief-candidates-hold-first-public-debate-outside-of-oklahoma', u'http://tsl.pomona.edu/articles/2015/3/13/lifeandstyle/6173-5c-bands-battle-for-kohoutek-spots', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6102-put-it-in-a-poem-waxing-poetic-and-fighting-injustice-through-spoken-word', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6095-take-a-side-on-the-handedness-question', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6100-former-5c-foam-titan-leaves-big-wake', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6099-girls-will-be-girls-how-to-learn-from-the-worst', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6094-letting-down-the-rear-guard', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6096-beyond-good-and-evil-holding-my-tongue', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6098-the-pack-is-back-more-than-grannies-can-wear-fannies', u'http://tsl.pomona.edu/articles/2015/3/6/lifeandstyle/6101-aloe-blacc-maya-jupiter-perform-discuss-inspiration', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6039-magic-in-the-moonlight-less-than-illuminating', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6034-pomona-afrofuturist-exhibit-explores-race-diaspora-vertigo', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6033-nyc-poet-helps-5cs-slam-at-the-cave', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6030-why-fifty-shades-of-grey-isnt-for-everyone-my-bad-experience-with-bdsm', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6029-the-link-between-vaccines-and-altruism', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6036-pomona-art-museum-celebrates-feminist-language-artist', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6035-sophomore-pursues-passion-through-lacma-fellowship', u'http://tsl.pomona.edu/articles/2015/2/27/lifeandstyle/6028-an-introduction-to-pc-music', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6311-athenas-strike-back-the-offense-awakens', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6310-stags-athenas-ace-matches-remain-undefeated-in-sciac', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6312-athenas-net-two-victories-in-games-against-caltech-whittier', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6313-q-and-a-caroline-ward-strings-together-another-strong-year', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6304-sagehens-salvage-one-victory-in-key-series-against-kingsmen', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6305-sweeping-competition-hens-serve-well-for-successful-weekend', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6307-two-victories-keep-sagehens-atop-sciac-standings', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6309-surging-offense-propels-sagehens-to-fifth-straight-win', u'http://tsl.pomona.edu/articles/2015/4/10/sports/6306-claremont-track-and-field-athletes-excel-against-top-competition', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6209-heating-up-in-hawaii-hens-face-international-competition', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6206-sagehens-come-back-from-tough-losses-with-two-key-victories', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6208-sagehens-slash-top-ranked-opponents-despite-demanding-schedules', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6201-rosenbaum-homers-twice-in-two-games-helps-hens-regain-momentum', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6231-griffin-survives-finishes-marathon-just-before-nightfall', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6204-5c-swimmers-deliver-strong-performances-in-ncaa-championships', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6202-dont-cross-with-cms-lacrosse-athenas-pick-up-two-wins-over-break', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6207-claremont-mudd-scripps-track-and-the-seven-deadly-hollshwandners', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6203-robinsons-bat-and-jewetts-arm-prove-vital-to-athenas', u'http://tsl.pomona.edu/articles/2013/2/22/feature/3632-time-capsule-hmc-student-takes-innovation-too-far', u'http://tsl.pomona.edu/articles/2015/3/27/sports/6205-menthens-blast-gives-stags-victory-in-series-finale', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6177-dominant-performances-give-hens-four-wins-at-convergence-tourney', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6181-sagehens-make-statement-at-first-sciac-quad-meet', u'http://tsl.pomona.edu/articles/2013/2/8/feature/3499-navigating-political-differences-abroad', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6178-athenas-make-waves-in-tournament-pick-up-two-wins', u'http://tsl.pomona.edu/articles/2013/2/8/feature/3503-where-does-study-abroad-money-go', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6179-offensive-woes-lead-to-losses-for-sagehens', u'http://tsl.pomona.edu/articles/2013/2/8/feature/3502-value-of-study-abroad-lies-in-pushing-boundaries', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6183-sagehens-continue-to-defend-the-coop-in-weekend-wins', u'http://tsl.pomona.edu/articles/2012/12/7/feature/3448-how-pomona-looks-from-across-the-globe', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6174-hens-sweep-ithaca-take-second-in-sciac', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6182-cmstf-outruns-competition-in-seasons-first-sciac-meet', u'http://tsl.pomona.edu/articles/2012/12/7/feature/3447-reminiscing-on-the-prospective-student-experience', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6184-you-just-got-served-athenas-earn-2-victories-extend-winning-streak-to-8', u'http://tsl.pomona.edu/articles/2012/11/16/feature/3346-what-would-you-do-in-the-worst-case-scenario', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6180-stags-stymied-at-ncaa-tournament', u'http://tsl.pomona.edu/articles/2012/11/16/feature/3345-5c-history-includes-natural-disasters', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6187-hear-them-roar-undefeated-lions-win-league', u'http://tsl.pomona.edu/articles/2015/3/13/sports/6176-roleder-powers-athenas-to-victory', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6117-stags-crush-opponents-in-all-around-team-effort', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6112-athenas-capture-glory-win-sciac-championship', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6113-sagehens-overwhelm-poets-with-series-sweep', u'http://tsl.pomona.edu/articles/2012/11/2/feature/3287-monsour-provides-psychological-services-with-limited-resources', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6111-stags-reign-supreme-steal-sciac-title', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6116-5cs-go-yard-in-sagehen-softball-series-split', u'http://tsl.pomona.edu/articles/2012/11/2/feature/3288-personal-experiences-reveal-limits-of-understanding-of-mental-illness', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6114-sagehens-show-mixed-results-at-tina-finali-tournament', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6110-5c-track-and-field-teams-face-off-in-rossi-relays', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6109-athenas-outlast-hens-in-overtime-thriller', u'http://tsl.pomona.edu/articles/2015/3/6/sports/6108-cmcers-hit-the-ground-running-with-marathon-training-fundraising', u'http://tsl.pomona.edu/articles/2012/10/12/feature/3116-water-reclamation-project-gets-tentative-go-ahead', u'http://tsl.pomona.edu/articles/2015/3/4/sports/6057-sagehen-star-p-p-pitchers-real-life-game-theory', u'http://tsl.pomona.edu/articles/2012/10/12/feature/3118-5cs-reach-toward-environmental-goals', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6056-two-sport-athlete-smith-brings-spark-to-stags-baseball', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6058-p-p-swimming-finishes-with-a-satisfying-record', u'http://tsl.pomona.edu/articles/2012/10/12/feature/3117-planting-native-at-the-5cs', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6060-sagehens-earn-two-walk-off-victories', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6055-athenas-victory-over-willamette-provides-promise-for-the-season', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6059-senior-sagehens-end-season-on-a-high-note', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6054-stevick-shines-cms-swim-swipes-sciac-championship', u'http://tsl.pomona.edu/articles/2015/2/27/sports/6053-strong-start-to-season-continues-as-sagehens-stomp-opponents', u'http://tsl.pomona.edu/articles/2015/4/10/opinions/6272-in-review-process-chaplaincy-structure-should-look-to-expand', u'http://tsl.pomona.edu/articles/2015/4/10/opinions/6325-the-case-for-israeli-apartheid-week-humanizing-the-oppressed-and-building-solidarity-on-campus', u'http://tsl.pomona.edu/articles/2015/2/13/opinions/5977-in-and-out-of-the-classroom-political-correctness-actually-restrains-open-dialogue', u'http://tsl.pomona.edu/articles/2015/4/10/opinions/6326-the-divestment-initiative-wont-cut-into-your-financial-aid', u'http://tsl.pomona.edu/articles/2015/2/13/opinions/5975-cmcs-focus-on-the-party-scene-distracts-from-real-issues', u'http://tsl.pomona.edu/articles/2015/4/10/opinions/6327-isolating-technology-keeps-my-60-year-friendships-fresh', u'http://tsl.pomona.edu/articles/2015/4/10/opinions/6299-fighting-our-escapist-tendencies-the-resilience-of-the-human-spirit', u'http://tsl.pomona.edu/articles/2015/4/10/opinions/6298-dear-conservative-democrats-you-cant-tabulate-oppression', u'http://tsl.pomona.edu/articles/2015/2/6/opinions/5942-dare-to-discuss-the-wonderful-and-the-fearful', u'http://tsl.pomona.edu/articles/2015/3/27/opinions/6226-israeli-elections-demand-new-era-in-u.s.-policy', u'http://tsl.pomona.edu/articles/2015/2/6/opinions/5936-the-end-of-personal-responsibility', u'http://tsl.pomona.edu/articles/2015/3/27/opinions/6228-discourse-needs-closed-spaces-open-discussions', u'http://tsl.pomona.edu/articles/2014/10/12/feature/5547-water-in-the-city-of-trees-and-phds-amid-rising-rates-city-engulfed-in-tense-water-dispute', u'http://tsl.pomona.edu/articles/2014/10/10/feature/5546-water-in-the-city-of-trees-and-phds-as-wells-dry-conservation-ideas-flow', u'http://tsl.pomona.edu/articles/2013/11/17/feature/4455-ye-olde-a-cappella', u'http://tsl.pomona.edu/articles/2013/11/10/feature/4451-scamfest-returns-to-big-bridges-november-22nd', u'http://tsl.pomona.edu/articles/2015/3/27/opinions/6229-finding-alternatives-to-combat-climate-change-besides-divestment', u'http://tsl.pomona.edu/articles/2013/11/10/feature/4452-the-low-down-on-the-high-notes', u'http://tsl.pomona.edu/articles/2013/11/10/feature/4454-friendly-inter-group-relations-define-5c-a-cappella', u'http://tsl.pomona.edu/articles/2015/3/27/opinions/6236-underrepresentation-in-visible-positions-of-power-matters', u'http://tsl.pomona.edu/articles/2013/11/10/feature/4453-despite-different-structures-styles-between-music-department-and-a-cappella-similar-goals-win-the-day', u'http://tsl.pomona.edu/articles/2013/10/18/feature/4315-where-funding-comes-from-how-it-is-used', u'http://tsl.pomona.edu/articles/2015/3/27/opinions/6244-here-and-elsewhere-part-time-professors-need-more-institutional-support', u'http://tsl.pomona.edu/articles/2013/10/18/feature/4313-what-mentor-programs-did-and-didnt-do-for-me', u'http://tsl.pomona.edu/articles/2013/10/18/feature/4317-how-resourceful-my-questions-and-suggestions-for-on-campus-resources', u'http://tsl.pomona.edu/articles/2013/10/18/feature/4316-wide-rage-of-resources-allows-first-year-students-to-find-the-program-that-fits-best', u'http://tsl.pomona.edu/articles/2015/3/13/opinions/6143-generation-y-is-redefining-entrepreneurship', u'http://tsl.pomona.edu/articles/2015/3/13/opinions/6147-lets-talk-an-unprecedented-conversation-on-belief', u'http://tsl.pomona.edu/articles/2013/10/18/feature/4314-pomona-implements-program-for-incoming-students-in-stem-fields', u'http://tsl.pomona.edu/articles/2013/10/18/feature/4312-greater-number-of-programs-means-individualized-experience-but-difficulty-retaining-students', u'http://tsl.pomona.edu/articles/2013/9/27/feature/4111-potential-sub-free-consequences-threaten-student-leaders-athletes', u'http://tsl.pomona.edu/articles/2013/9/27/feature/4110-students-reflect-on-orientation-dances', u'http://tsl.pomona.edu/articles/2015/3/13/opinions/6146-college-ave-in-lieu-of-an-art-museum-put-a-cultural-center', u'http://tsl.pomona.edu/articles/2015/3/13/opinions/6142-aim-for-more-reflection-less-riff-raff-this-spring-break', u'http://tsl.pomona.edu/articles/2013/9/27/feature/4109-navigating-the-5c-substance-policies', u'http://tsl.pomona.edu/articles/2015/3/13/opinions/6144-personal-experience-trumps-reputation-in-the-liberal-arts', u'http://tsl.pomona.edu/articles/2013/9/27/feature/4108-consensus-between-schools-on-sub-free-opening-remains-elusive', u'http://tsl.pomona.edu/articles/2015/3/6/opinions/6127-a-note-to-our-commenters-debate-the-ideas-not-the-people', u'http://tsl.pomona.edu/articles/2013/5/3/feature/4026-deep-creek-hot-springs', u'http://tsl.pomona.edu/articles/2015/3/6/opinions/6088-can-spontaneity-exist-on-a-college-campus', u'http://tsl.pomona.edu/articles/2013/5/3/feature/4024-the-huntington-library', u'http://tsl.pomona.edu/articles/2015/3/6/opinions/6091-dont-let-the-number-of-women-at-keck-fool-you-gender-discrimination-still-exists-in-stem', u'http://tsl.pomona.edu/articles/2013/5/3/feature/4023-san-gabriel-river-trail', u'http://tsl.pomona.edu/articles/2015/3/6/opinions/6105-trigger-warnings-arent-trivial-theyre-necessary', u'http://tsl.pomona.edu/articles/2013/5/3/feature/4025-point-dume-state-beach', u'http://tsl.pomona.edu/articles/2015/3/6/opinions/6089-rethinking-how-we-talk-about-sexual-assault-on-our-campuses', u'http://tsl.pomona.edu/articles/2013/4/19/feature/3944-pomona-branding-characterized-by-emphasis-on-dedication', u'http://tsl.pomona.edu/articles/2015/3/6/opinions/6090-1-100-too-many-shining-light-on-the-stigma-of-suicide', u'http://tsl.pomona.edu/articles/2013/4/19/feature/3907-college-pursue-authenticity-in-branding-strategies', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6050-how-we-arrive-at-our-poor-decisions', u'http://tsl.pomona.edu/articles/2013/4/19/feature/3945-tour-guides-interpret-marketing', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6081-fighting-for-funding-sustaining-tixc-in-5c-party-culture', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6082-prevention-over-intention-when-it-comes-to-eating-disorders', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6087-bigotry-happens-here-too', u'http://tsl.pomona.edu/articles/2013/4/5/feature/3821-recent-unionization-efforts-succeed-at-u.s.-colleges', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6051-birdman-aside-latinos-still-have-a-ways-to-go', u'http://tsl.pomona.edu/articles/2013/4/5/feature/3854-neutrality-agreements-at-center-of-discussion', u'http://tsl.pomona.edu/articles/2013/3/10/feature/3722-divestment-presents-challenges', u'http://tsl.pomona.edu/articles/2013/3/8/feature/3734-time-capsule-colleges-debate-south-africa-divestment', u'http://tsl.pomona.edu/articles/2013/3/8/feature/3704-expert-opinions-weigh-in-on-divestment-strategies', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6083-administration-fails-to-acknowledge-muslimlivesmatter', u'http://tsl.pomona.edu/articles/2013/3/8/feature/3705-campaign-maintains-broader-goals', u'http://tsl.pomona.edu/articles/2013/2/22/feature/3614-students-share-diverse-experiences-with-drugs', u'http://tsl.pomona.edu/articles/2015/2/27/opinions/6048-civilization-prospers-with-education-cmc-needs-a-reality-check', u'http://tsl.pomona.edu/articles/2013/2/22/feature/3613-drug-policies-prove-difficult-to-enforce', u'http://tsl.pomona.edu/articles/2013/2/22/feature/3612-health-and-drugs-intersect-at-5cs', u'http://tsl.pomona.edu/articles/2015/2/23/opinions/6042-challenging-the-gap-between-ambitions-and-actions', u'http://tsl.pomona.edu/articles/2015/2/21/opinions/6024-you-had-a-good-run-folk-music-but-its-time-to-move-on', u'http://tsl.pomona.edu/articles/2015/2/21/opinions/5991-queer-in-stem-a-lot-more-acceptance-than-you-think', u'http://tsl.pomona.edu/articles/2015/2/21/opinions/5993-calling-for-a-cultural-shift-the-sterilization-of-the-mudd-experience', u'http://tsl.pomona.edu/articles/2015/2/21/opinions/5990-for-the-media-its-all-about-ratings', u'http://tsl.pomona.edu/articles/2015/2/21/opinions/5992-we-should-be-concerned-about-big-pharma-not-vaccine-mandates', u'http://tsl.pomona.edu/articles/2015/2/13/opinions/5989-ask-for-pronouns-we-all-have-them', u'http://tsl.pomona.edu/articles/2015/2/13/opinions/5974-the-importance-of-breaking-out-of-the-bubble', u'http://tsl.pomona.edu/articles/2015/2/13/opinions/5973-dont-fight-fire-with-fire-daesh-hatred-and-islamophobia', u'http://tsl.pomona.edu/articles/2015/2/13/opinions/5985-dreaming-of-a-more-open-campus']

counter = 0

for url in lst:
    scrape(url)
    counter = counter + 1
    print '%d' % counter
